Введение (10 минут)
Приветствуем вас на втором уроке курса по Django! Сегодня мы изучим динамические URL, перенаправления и базовые шаблоны.

Цель урока (5 минут)
Цель урока: Обучить динамическим URL, перенаправлениям и базовым шаблонам в Django.

Результаты обучения (5 минут)
После этого урока вы сможете:

Использовать динамические URL и редиректы.
Освоить основы шаблонов и передачи данных в них.
Основные темы и понятия (10 минут)
Динамические URL и пользовательские конвертеры.
Введение в шаблоны (Django Template Language).
Динамические URL и пользовательские конвертеры (20 минут)
Динамические URL позволяют создавать гибкие маршруты. Пользовательские конвертеры позволяют обрабатывать специфические типы данных в URL.

Пример динамических URL:


from django.urls import path
from . import views

urlpatterns = [
    path('', views.get_all_cards),
    path('<int:card_id>/', views.get_card_by_id),
]
Введение в шаблоны (Django Template Language) (20 минут)
Шаблоны позволяют отделить логику представления от логики бизнес-логики. Django Template Language (DTL) используется для создания динамических HTML-страниц.

Пример использования шаблонов:


<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <title>Каталог</title>
    </head>
    <body>
        <h1>Каталог карточек</h1>
    </body>
</html>
Функции render() и render_to_string() (10 минут)
render(): Рендерит шаблон и возвращает HTTP-ответ.
render_to_string(): Рендерит шаблон и возвращает строку.
Пример использования render():


from django.shortcuts import render

def get_all_cards(request):
    return render(request, 'cards/catalog.html')
Практическое задание 1 (30 минут)
Настройка перенаправлений и динамических URL.

Передача данных в шаблоны (20 минут)
Данные передаются в шаблоны через контекст. Контекст — это словарь, содержащий данные, которые будут доступны в шаблоне.

Пример передачи данных в шаблоны:


info = {
    "users_count": 100600,
    "cards_count": 100600,
    "menu": ["Главная", "О проекте", "Каталог"],
}

def get_all_cards(request):
    return render(request, 'cards/catalog.html', context=info)
Использование данных в шаблонах (10 минут)

<p>Всего карточек: {{ cards_count }}</p>
<p>Всего пользователей: {{ users_count }}</p>
Циклы и условия в шаблонах (20 минут)
Циклы: {% for item in menu %}
Условия: {% if not forloop.last %}
Пример использования циклов и условий:


<nav>
    <ul>
        {% for item in menu %}
            <li>{{ item }}</li>
            {% if not forloop.last %}
                <hr>
            {% endif %}
        {% endfor %}
    </ul>
</nav>
Практическое задание 2 (30 минут)
Создание шаблонов с передачей данных.

Заключение (10 минут)
Спасибо за внимание! В следующем уроке мы продолжим изучение Django.