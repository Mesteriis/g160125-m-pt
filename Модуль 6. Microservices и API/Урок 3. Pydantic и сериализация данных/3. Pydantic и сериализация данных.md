# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ FastAPI (Pydantic)

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≥–ª–∞–≤—ã 1 –∏ 6 –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Pydantic. –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.

---

## 1. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ FastAPI

### 1.1. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è?

**–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä–µ–∫—Ç–æ–≤ Python) –≤ —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –ø–æ —Å–µ—Ç–∏ (—á–∞—â–µ –≤—Å–µ–≥–æ JSON) –∏ –æ–±—Ä–∞—Ç–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON –Ω–∞ —Å–µ—Ä–≤–µ—Ä, —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ—Ç JSON –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –º–æ–¥–µ–ª—å Python, —á—Ç–æ–±—ã —Å –Ω–µ–π —Ä–∞–±–æ—Ç–∞—Ç—å. –ê –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ ‚Äî —Å–µ—Ä–≤–µ—Ä —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –º–æ–¥–µ–ª—å –æ–±—Ä–∞—Ç–Ω–æ –≤ JSON.

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è?**

1. **–£–¥–æ–±–Ω—ã–π –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏** –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.
2. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** (JSON) –æ–±–ª–µ–≥—á–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å**: –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –º—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

### 1.2. –ó–∞—á–µ–º –Ω–∞–º Pydantic?

–í FastAPI –∑–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç **Pydantic**. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –û–ø–∏—Å—ã–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–æ–≤, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç `BaseModel`.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∏–ø–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `str`, `int`, `EmailStr`, `conint` –∏ —Ç. –¥.).
- –£–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å JSON: –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å –≤ —Å–ª–æ–≤–∞—Ä—å, –∞ –ø–æ—Ç–æ–º –≤ JSON, –∏ –æ–±—Ä–∞—Ç–Ω–æ.
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª–µ `email` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∞–¥—Ä–µ—Å–æ–º).

### 1.3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Pydantic

Pydantic –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –±–∞–∑–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–æ–≤. –ï—Å—Ç—å –∏ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π**. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
   ```python
   from pydantic import BaseModel, conint

   class Product(BaseModel):
       name: str
       price: conint(gt=0)  # —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 0
   ```
   –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å `price=0`, –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞.

2. **–ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**:
   ```python
   from typing import Optional

   class Article(BaseModel):
       title: str
       content: str
       published: bool = False  # –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å, —Ç–æ –±—É–¥–µ—Ç False
   ```

3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è**:
   ```python
   class Comment(BaseModel):
       user_id: int
       text: str
       parent_comment_id: Optional[int] = None
   ```
   –ó–¥–µ—Å—å `parent_comment_id` –º–æ–∂–µ—Ç –±—ã—Ç—å `None`, –µ—Å–ª–∏ —ç—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.

4. **–í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏**:
   ```python
   from pydantic import BaseModel, EmailStr

   class Author(BaseModel):
       name: str
       email: EmailStr

   class Book(BaseModel):
       title: str
       author: Author
   ```
   Pydantic –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –ø—Ä–æ–≤–µ—Ä—è—è –∫–∞–∂–¥—É—é –≤–ª–æ–∂–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å.

5. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã**:
   –í—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–µ—Ç–æ–¥—ã (`@validator` –∏–ª–∏ `@field_validator` –≤ Pydantic v2) –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è, –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–∞—Ç—ã –∏ —Ç. –¥.

---

## 2. –ü—Ä–∏–º–µ—Ä—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Pydantic

–ù–∏–∂–µ ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–∏—ë–º—ã –∏ —Ñ–∏—à–∫–∏ —Ä–∞–±–æ—Ç—ã —Å Pydantic –ø—Ä–∏ **—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏** –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å.

### 01_dict_to_json.py
```python
from pydantic import BaseModel


class User(BaseModel):
    id: int
    name: str
    email: str | None = None


# TODO-1: –ø–æ–º–µ–Ω—è–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ name:  "Alice" -> 100. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–¥.
# TODO-2: –ø–æ–º–µ–Ω—è–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ id:  123 -> "123". –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–¥.
user_data = {"id": 123, "name": "Alice", "email": "alice@example.com"}
# –°–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫—É —Å–ª–æ–≤–∞—Ä—è (**user_data)
user = User(**user_data)

# –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –º–æ–¥–µ–ª—å –≤ JSON-—Å—Ç—Ä–æ–∫—É —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏
user_json = user.model_dump_json(indent=4)
# –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —ç–∫—Ä–∞–Ω
print(user_json)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. `class User(BaseModel): ...` ‚Äî —Å–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å-–º–æ–¥–µ–ª—å, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –ø–æ–ª—è.
2. –í `user_data` –∑–∞–¥–∞—ë–º –ø–æ–ª–µ `id`, –ø–æ–ª–µ `name`, –∞ `email` –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ.
3. –ï—Å–ª–∏ –Ω–∞—Ä—É—à–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–¥–∞—Ç—å `name=100`, Pydantic –≤—ã–±—Ä–æ—Å–∏—Ç –æ—à–∏–±–∫—É.
4. `model_dump_json(indent=4)` –¥–µ–ª–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON.

---

### 02_object_to_json.py
```python
from pydantic import BaseModel, ConfigDict


class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y


class Point3D:
    def __init__(self, x, y, z):
        self.x = x
        self.y = y
        self.z = z

class Point1D:
    def __init__(self, x):
        self.x = x


class PointSchema(BaseModel):
    # ConfigDict(from_attributes=True) –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—Ä–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã –∏–∑ –æ–±—ã—á–Ω—ã—Ö Python-–æ–±—ä–µ–∫—Ç–æ–≤
    model_config = ConfigDict(from_attributes=True)
    x: int
    y: int


# TODO-1: –ø–æ–º–µ–Ω—è–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: int -> float
# TODO-2: –ø–æ–º–µ–Ω—è–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: int -> str
point = Point(x=10, y=25)
# –°–æ–∑–¥–∞—ë–º –∏–∑ –æ–±—ä–µ–∫—Ç–∞ point –º–æ–¥–µ–ª—å PointSchema
schema = PointSchema.model_validate(point)
# –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ JSON
point_json = schema.model_dump_json(indent=4)

print(point_json)


# TODO-3: —Å–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ Point3D –∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º
# point3d = Point3D(x=1, y=2, z=3)
# try:
#     schema_3d = PointSchema.model_validate(point3d)
#     point3d_json = schema_3d.model_dump_json(indent=4)
#     print("Point3D:\n", point3d_json)
# except Exception as e:
#     print("Validation error for Point3D:", e)


# TODO-4: —Å–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ Point1D –∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º
# point1d = Point1D(x=100)
# try:
#     schema_1d = PointSchema.model_validate(point1d)
#     point1d_json = schema_1d.model_dump_json(indent=4)
#     print("Point1D:\n", point1d_json)
# except Exception as e:
#     print("Validation error for Point1D:", e)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. `PointSchema` –∂–¥—ë—Ç –ø–æ–ª—è `x` –∏ `y`, –æ–±–∞ —Ç–∏–ø–∞ `int`.
2. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–¥–∏—Ç–µ –æ–±—ä–µ–∫—Ç `Point3D`, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –µ—â—ë –∏ `z`, —ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É, —Ç–∞–∫ –∫–∞–∫ –≤ –º–æ–¥–µ–ª–∏ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –ø–æ–ª—è.
3. `model_config = ConfigDict(from_attributes=True)` –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (`point`), –∞ –Ω–µ —Å–ª–æ–≤–∞—Ä–∏.
4. `model_validate(...)` (–≤ Pydantic v2) —Å—Ç—Ä–æ–∏—Ç –º–æ–¥–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—ä–µ–∫—Ç–∞.

---

### 03_object_to_json_optional.py
```python
from pydantic import BaseModel, ConfigDict


class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y


class Point3D:
    def __init__(self, x, y, z):
        self.x = x
        self.y = y
        self.z = z

class Point1D:
    def __init__(self, x):
        self.x = x


class PointSchema(BaseModel):
    model_config = ConfigDict(from_attributes=True)
    x: int
    y: int = None
    z: int = None


point1 = Point1D(x=10)
point2 = Point(x=10, y=25)
point3 = Point3D(x=10, y=25, z=11)


# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
print(PointSchema.model_validate(point1).model_dump_json(indent=4))
print(PointSchema.model_validate(point2).model_dump_json(indent=4))
print(PointSchema.model_validate(point3).model_dump_json(indent=4))
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. –ü–æ–ª–µ `y` –∏–º–µ–µ—Ç —Ç–∏–ø `int`, –Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `None`, –∞ `z` ‚Äî —Ç–æ–∂–µ `int` –∏–ª–∏ `None`.
2. `point1` –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ `x`, –Ω–æ Pydantic –Ω–µ –±—É–¥–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ `y` –∏ `z` –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.
3. –ü—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–º–µ—Ç–æ–¥ `model_dump_json`) —Ç–µ –ø–æ–ª—è, —á—Ç–æ –Ω–µ –∑–∞–¥–∞–Ω—ã, –±—É–¥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ –∏–º–µ—Ç—å `null` –≤ JSON.

---

### 04_nested_object_to_json.py
```python
from pydantic import BaseModel


class Address(BaseModel):
    street: str
    city: str
    zip: str

class Order(BaseModel):
    order_id: int
    items: list[str]

class User(BaseModel):
    user_id: int
    username: str
    address: Address
    orders: list[Order]


user_data = {
    "user_id": 2,
    "username": "John",
    "address": {
        "street": "Main St",
        "city": "Anytown",
        "zip": "12345"
    },
    "orders": [
        {"order_id": 1, "items": ["item1", "item2"]},
        {"order_id": 2, "items": ["item3"]}
    ]
}

user = User(**user_data)
user_json = user.model_dump_json(indent=4)
print(user_json)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. `User` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ `address` (—Ç–∏–ø–∞ `Address`) –∏ `orders` (—Å–ø–∏—Å–æ–∫ `Order`).
2. `user_data` –∏–º–µ–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É: –æ–±—ä–µ–∫—Ç `address` –∏ –º–∞—Å—Å–∏–≤ `orders`.
3. Pydantic –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –≤—Å—ë –¥–µ—Ä–µ–≤–æ –º–æ–¥–µ–ª–µ–π –≤ JSON.

---

### 05_custom_validator.py
```python
from pydantic import BaseModel, field_validator


class User(BaseModel):
    id: int
    name: str
    email: str

    @field_validator("email")
    def validate_email(cls, value):
        if "@" not in value:
            raise ValueError("Email –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–∏–º–≤–æ–ª '@'")
        return value


user = User(id=1, name="–ò–≤–∞–Ω", email="ivan@example.com")
print(user.model_dump_json())

try:
    User(id=2, name="–ü–µ—Ç—Ä", email="petrexample.com")
except ValueError as e:
    print(e)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. `@field_validator("email")` ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—è `email`.
2. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `@`, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `ValueError`.
3. –ü—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –≤–≤–æ–¥–µ –º–æ–¥–µ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è, –∏ –º—ã –º–æ–∂–µ–º –≤—ã–∑–≤–∞—Ç—å `model_dump_json()`.

---

### 06_aliases.py
```python
from pydantic import BaseModel, Field


class User(BaseModel):
    user_id: int = Field(alias="id")
    name: str = Field(alias="user_name")
    email: str = None

user_data = {"id": 1, "user_name": "–ò–≤–∞–Ω", "email": "ivan@example.com"}
user_data2 = {"id": 2, "user_name": "–ü–µ—Ç—Ä", "email": "petr@example.com"}

user = User(**user_data)
print(user.model_dump_json(by_alias=True))

user_deserialized = User(**user_data2)
print(user_deserialized)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. `Field(alias="id")` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Pydantic –ø—Ä–∏ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–≤–∞—Ä—è –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –∫–ª—é—á `"id"`, –∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –µ–≥–æ –≤ –ø–æ–ª–µ `user_id`.
2. `model_dump_json(by_alias=True)` –≤–µ—Ä–Ω—ë—Ç JSON, –≥–¥–µ –ø–æ–ª–µ `user_id` –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –∫–∞–∫ `"id"`.

---

## 3. –ü—Ä–∏–º–µ—Ä—ã –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

–¢–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä—ã, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é (–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ JSON –∏–ª–∏ —Å–ª–æ–≤–∞—Ä–µ–π –≤ Python-–æ–±—ä–µ–∫—Ç—ã).

### 01_dict_to_object.py
```python
from pydantic import BaseModel


class User(BaseModel):
    id: int
    name: str
    age: int


user_data = {
    "id": 1,
    "name": "–ò–≤–∞–Ω",
    "age": 30
}

# –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ —Å–ª–æ–≤–∞—Ä—è
user = User(**user_data)

print(user)
print(user.name)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. –ú—ã –ø–µ—Ä–µ–¥–∞—ë–º —Å–ª–æ–≤–∞—Ä—å `user_data` —Ä–∞—Å–ø–∞–∫–æ–≤–∫–æ–π `**user_data`.
2. Pydantic –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –∏ —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç `User`.
3. –ï—Å–ª–∏ –±—ã –Ω–µ –±—ã–ª–æ –ø–æ–ª—è `age` –∏–ª–∏ –±—ã–ª –±—ã –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø, –≤–æ–∑–Ω–∏–∫–ª–∞ –±—ã –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

---

### 02_json_to_object.py
```python
from pydantic import BaseModel

class User(BaseModel):
    id: int
    name: str
    age: int

user_json = '{"id": 1, "name": "–ò–≤–∞–Ω", "age": 30}'
user_json_bad = '{"id": 1, "name": "–ò–≤–∞–Ω"}'

# –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ JSON-—Å—Ç—Ä–æ–∫–∏
# TODO-1: –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å user_json_bad
user = User.model_validate_json(user_json)

print(user)
print(user.name)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. `user_json` ‚Äî –≤–∞–ª–∏–¥–Ω–∞—è JSON-—Å—Ç—Ä–æ–∫–∞ —Å–æ –≤—Å–µ–º–∏ —Ç—Ä–µ–º—è –ø–æ–ª—è–º–∏.
2. `user_json_bad` ‚Äî —Ç–∞–º –Ω–µ—Ç –ø–æ–ª—è `age`. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ —É–≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫—É.
3. `User.model_validate_json(...)` (Pydantic v2) –±–µ—Ä—ë—Ç JSON-—Å—Ç—Ä–æ–∫—É, –ø–∞—Ä—Å–∏—Ç –µ—ë –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

---

### 03_nested_objects.py
```python
from pydantic import BaseModel
from typing import List, Optional

class Address(BaseModel):
    street: str
    city: str
    zip_code: str

class Company(BaseModel):
    name: str
    address: Address
    employees: Optional[List[str]] = None

class Employee(BaseModel):
    id: int
    name: str
    company: Company

employee_data = {
    "id": 1,
    "name": "–ê–ª–µ–∫—Å–µ–π",
    "company": {
        "name": "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞",
        "address": {
            "street": "–¢–≤–µ—Ä—Å–∫–∞—è",
            "city": "–ú–æ—Å–∫–≤–∞",
            "zip_code": "123456"
        },
        "employees": ["–ò–≤–∞–Ω", "–ü–µ—Ç—Ä"]
    }
}

# –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ —Å–ª–æ–≤–∞—Ä—è —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
employee = Employee(**employee_data)

print(employee)
print(employee.company.address.city)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. –ú–æ–¥–µ–ª—å `Employee` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å `Company`, –∞ `Company` ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å `Address`.
2. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `Employee` –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å, –∏ Pydantic —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç/—Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã.
3. `print(employee.company.address.city)` –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º —Å–∞–º–æ–π –≥–ª—É–±–∏–Ω—ã.

---

### 04_list_objects.py
```python
from pydantic import BaseModel
from typing import List


class User(BaseModel):
    id: int
    name: str
    age: int


users_data = [
    {"id": 1, "name": "–ò–≤–∞–Ω", "age": 30},
    {"id": 2, "name": "–ü–µ—Ç—Ä", "age": 25}
]

# –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π
users = [User(**user_data) for user_data in users_data]

for user in users:
    print(user)
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
1. `users_data` ‚Äî —ç—Ç–æ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π.
2. –ú—ã –∏—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ —Å–ø–∏—Å–∫—É, —Å–æ–∑–¥–∞–≤–∞—è –º–æ–¥–µ–ª—å `User` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è.
3. –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±—É–¥–µ—Ç —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –≤—ã–±—Ä–æ—Å–∏—Ç—Å—è –æ—à–∏–±–∫–∞.

---

## 4. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ:

1. **–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** –∏ –ø–æ—á–µ–º—É JSON.
2. **–ö–∞–∫ Pydantic —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É** —Å –¥–∞–Ω–Ω—ã–º–∏ (–≤–∫–ª—é—á–∞—è —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—é –∑–Ω–∞—á–µ–Ω–∏–π, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ —Ç.–¥.).

–í –∏—Ç–æ–≥–µ, –ø—Ä–∏–º–µ–Ω—è—è —ç—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö, –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞–¥—ë–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ, —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π JSON –∏ –æ–±–ª–µ–≥—á–∞—Ç—å –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.

üöÄ –£–¥–∞—á–∏ –≤ –æ—Å–≤–æ–µ–Ω–∏–∏ FastAPI –∏ Pydantic!

