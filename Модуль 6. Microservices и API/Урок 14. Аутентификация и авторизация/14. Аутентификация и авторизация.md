–ù–∏–∂–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω **–º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª** –ø–æ —Ç–µ–º–µ —É—Ä–æ–∫–∞ ‚Ññ14:

# üîë –£—Ä–æ–∫ ‚Ññ14: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ FastAPI (JWT, OAuth2)

---

## üìå 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è?

–≠—Ç–∏ –¥–≤–∞ —Ç–µ—Ä–º–∏–Ω–∞ —á–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç, —Ö–æ—Ç—è –æ–Ω–∏ –æ–∑–Ω–∞—á–∞—é—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** (Authentication) ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–≥–æ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ–º, –∑–∞ –∫–æ–≥–æ –æ–Ω —Å–µ–±—è –≤—ã–¥–∞—ë—Ç. (¬´–ö—Ç–æ —Ç—ã?¬ª)

- –ü—Ä–∏–º–µ—Ä: –≤—Ö–æ–¥ –ø–æ –ª–æ–≥–∏–Ω—É –∏ –ø–∞—Ä–æ–ª—é, –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞, SMS-–∫–æ–¥.

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** (Authorization) ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É–∂–µ –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é. (¬´–ß—Ç–æ —Ç–µ–±–µ –º–æ–∂–Ω–æ?¬ª)

- –ü—Ä–∏–º–µ—Ä: —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (–∞–¥–º–∏–Ω, –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å).

---

## üìå 2. –ß—Ç–æ —Ç–∞–∫–æ–µ JWT?

JWT (**JSON Web Token**) ‚Äî —ç—Ç–æ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –µ–≥–æ –ø—Ä–∞–≤–∞—Ö –≤ –≤–∏–¥–µ JSON-–æ–±—ä–µ–∫—Ç–∞. –¢–æ–∫–µ–Ω –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω –±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–≥–æ –≤ –ë–î.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ JWT –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö:

- **Stateless** ‚Äî –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ —Ç–æ–∫–µ–Ω–µ.
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è REST API, —É–ø—Ä–æ—â–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.
- –ü—Ä–æ—Å—Ç–∞—è –∏ –Ω–∞–¥—ë–∂–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É.

–≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –≥–¥–µ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∏ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏–º–µ–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É.

---

## üìå –ß–µ–º JWT –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Django?

**–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Django:**

- Django –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ —Å–µ—Å—Å–∏—è—Ö –≤ –ë–î.
- –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–µ—Å—Å–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∞ –∫–ª–∏–µ–Ω—Ç—É –æ—Ç–¥–∞—ë—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ (—Å–µ—Å—Å–∏—è –≤ cookies).
- –í –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç cookie, Django —Å–≤–µ—Ä—è–µ—Ç –µ–≥–æ —Å —Å–µ—Å—Å–∏–µ–π –≤ –ë–î.

–ú–∏–Ω—É—Å—ã —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

- –ù—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–∞–∑—É —Å–µ—Å—Å–∏–π.
- –ü—Ä–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.

**JWT-—Ç–æ–∫–µ–Ω—ã (FastAPI)**:

- JWT –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (stateless).
- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–∞–º–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.
- –¢–æ–∫–µ–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, JWT —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—â–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π –∏ –ª–µ–≥–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ –ª—é–±–æ–º —Å–µ—Ä–≤–∏—Å–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---

## üìå 3. –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JWT-—Ç–æ–∫–µ–Ω–∞

JWT-—Ç–æ–∫–µ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 3 —á–∞—Å—Ç–µ–π, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–æ—á–∫–∞–º–∏ (`.`):

```
HEADER.PAYLOAD.SIGNATURE
```

**1) Header (–∑–∞–≥–æ–ª–æ–≤–æ–∫)**  
JSON-–æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω—ã:

- `alg` (–∞–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `HS256`)
- `typ` (—Ç–∏–ø —Ç–æ–∫–µ–Ω–∞, –æ–±—ã—á–Ω–æ "JWT")

–ü—Ä–∏–º–µ—Ä:

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

**2) Payload (–ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)**  
–•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –µ–≥–æ –ø—Ä–∞–≤–∞—Ö. –ü—Ä–∏–º–µ—Ä:

```json
{
  "sub": "username",      
  "id": 123,              
  "exp": 1710282435,      
  "roles": ["admin"]      
}
```

–ß–∞—Å—Ç—ã–µ –ø–æ–ª—è –≤ Payload:

- `sub` ‚Äî —Å—É–±—ä–µ–∫—Ç (–æ–±—ã—á–Ω–æ username –∏–ª–∏ user_id)
- `exp` ‚Äî –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞ (timestamp)
- –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–∫–ª—é—á–∏—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `roles`, `permissions`).

**3) Signature (–ø–æ–¥–ø–∏—Å—å)**  
–≠—Ç–æ –ø—Ä–æ–≤–µ—Ä–æ—á–Ω–∞—è —á–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞. –ü–æ–¥–ø–∏—Å—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–≤—ã—Ö –¥–≤—É—Ö —á–∞—Å—Ç–µ–π –∏ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ —Å–µ—Ä–≤–µ—Ä–∞:

```
HMACSHA256(
  base64UrlEncode(header) + "." + base64UrlEncode(payload),
  secret_key
)
```

---

## üìå OAuth2PasswordBearer vs HTTPBearer: –≤ —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞?

FastAPI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JWT:

### OAuth2PasswordBearer

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JWT:

```python
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="/token")
```

- –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ HTTP-–∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ:
```
Authorization: Bearer <JWT>
```
- OAuth2PasswordBearer –æ–∂–∏–¥–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç (`/token`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞.
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å—Ö–µ–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º.

### HTTPBearer

```python
bearer_scheme = HTTPBearer()
```

- –≠—Ç–æ —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å—Ö–µ–º–∞, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç:
```
Authorization: Bearer <JWT>
```
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç endpoint `/token` (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –ª—é–±—ã–º –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º).
- –£–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

**–†–∞–∑–Ω–∏—Ü–∞ –∫—Ä–∞—Ç–∫–æ:**

- OAuth2PasswordBearer –ø—Ä–æ–≤–µ—Ä—è–µ—Ç JWT –∏ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã OAuth2.
- HTTPBearer –ø—Ä–æ—Å—Ç–æ –¥–æ—Å—Ç–∞—ë—Ç —Ç–æ–∫–µ–Ω –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª—é–±—É—é –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏.

---

## üìå –ü—Ä–∏—á–∏–Ω—ã –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ JWT –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö:

–ü–æ—á–µ–º—É JWT —Ç–∞–∫ –ø–æ–ø—É–ª—è—Ä–µ–Ω –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö?

- **Stateless**: –Ω–µ –Ω—É–∂–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤.
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–µ—Ä–µ–¥–∞—á–∏**: –ª–µ–≥–∫–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ HTTP-–∑–∞–ø—Ä–æ—Å–∞—Ö, cookie –∏–ª–∏ headers.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å —Ç–æ–∫–µ–Ω–∞.
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–∞–≤–∞—Ö, —Ä–æ–ª—è—Ö –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö.
- **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å**: –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É.

JWT ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è API –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –≥–¥–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º–∏ –∏ stateless.

---

## üìå –ü–æ—á–µ–º—É JWT –ø–æ–ø—É–ª—è—Ä–µ–Ω?

- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π (Stateless –ø–æ–¥—Ö–æ–¥).
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (–∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–Ω–æ–º–µ–Ω).
- –£–¥–æ–±—Å—Ç–≤–æ –ø–µ—Ä–µ–¥–∞—á–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ HTTP.
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

## üìå –ö–∞–∫ –≤ FastAPI –≤–Ω–µ–¥—Ä–∏—Ç—å JWT?

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip install fastapi[all] python-jose passlib[bcrypt]
```

### –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω:

```python
from jose import jwt

def create_access_token(data: dict, expires_delta: timedelta = None):
    to_encode = data.copy()
    expire = datetime.utcnow() + (expires_delta or timedelta(minutes=15))
    to_encode.update({"exp": expire})
    return jwt.encode(to_encode, SECRET_KEY, algorithm="HS256")
```

---

## üìå –ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤ FastAPI —Å JWT?

```python
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="/token")

async def get_current_user(token: str = Depends(oauth2_scheme)):
    try:
        payload = jwt.decode(token, SECRET_KEY, algorithms=["HS256"])
        return payload["sub"]
    except JWTError:
        raise HTTPException(401, "Invalid token")

@app.get("/users/me")
async def read_users_me(current_user=Depends(get_current_user)):
    return {"username": current_user}
```

–¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ JWT.

---

üéØ **–ß—Ç–æ –≤–∞–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞–º:**

- JWT –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—â–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–µ—Å—Å–∏–π.
- OAuth2PasswordBearer –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–¥–æ–±–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å OAuth2-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º, –∞ HTTPBearer ‚Äî —Ç–æ–ª—å–∫–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–∫–µ–Ω, –æ—Å—Ç–∞–≤–ª—è—è –ø—Ä–æ–≤–µ—Ä–∫—É –≤–∞–º.
- JWT-—Ç–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –∫–∞–∂–¥—ã–º —Å–µ—Ä–≤–∏—Å–æ–º –∞–≤—Ç–æ–Ω–æ–º–Ω–æ.

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–æ–Ω–µ—Å—Ç–∏ –¥–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —á—ë—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ JWT –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ FastAPI.